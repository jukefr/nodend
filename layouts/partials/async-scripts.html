{{ if ne .Site.Params.seo.disable_bpg true }}
<script>var Async={load:function(e,t){var a,n=document.createElement("script");n.setAttribute("src",e),t&&(n.onreadystatechange=n.onload=function(){a||t(),a=!0}),document.getElementsByTagName("head")[0].appendChild(n)}};Async.load("/js/bpgdec8.js",function(){!function(){"use strict";var l=/\.bpg$/i,u=[].slice;document.addEventListener("lazybeforeunveil",function(e){var t,a,n,i,r,c,o,s,d=(a=[t=e.target],"picture"==(n=t.parentNode).nodeName.toLowerCase()&&(a=u.call(n.querySelectorAll("source, img")).filter(function(e){var t=e.getAttribute("media");return!t||window.matchMedia(t)})),a[0]&&(a[0].getAttribute(lazySizesConfig.srcAttr)||a[0].getAttribute(lazySizesConfig.srcsetAttr))||"");l.test(d)&&(e.preventDefault(),i=e.target,r=d,(s=document.createElement("canvas")).className=i.className,i.parentNode.replaceChild(s,i),c=s.getContext("2d"),(o=new BPGDecoder(c)).onload=function(){s.width=this.imageData.width,s.height=this.imageData.height,c.putImageData(this.imageData,0,0)},o.load(r))})}()});</script>
{{ end }}
<script async src="/js/lazysizes.min.js"></script>
